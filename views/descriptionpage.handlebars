<!-- Navbar -->
{{>navbar}}
<!-- Back to results -->
<div class='container-md pb-2 pt-4'>
  <a class='text-black backToPage' href='javascript:history.back()'>
    <i class='fa-solid fa-chevron-left'></i>
    Back to search results</a>
</div>

<!-- Images  -->
<div
  class='container-md d-flex flex-md-row flex-column block-section justify-content-center align-items-center'
>
  <div
    class='col d-flex flex-row justify-content-evenly align-content-center flex-wrap'
  >
  {{!-- Images from Db --}}

  <img src='{{properties.image1}}' alt='' class='col-6' />
  <img src='{{properties.image2}}' alt='' class='col-6' />
  <img src='{{properties.image3}}' alt='' class='col-6' />
  <img src='{{properties.image4}}' alt='' class='col-6' />


  </div>
  <div class='col text-center d-block align-items-center'>
    <div class='col-lg-10 col-sm-11 text-start mx-auto mb-5 fixed'>
      <h2>{{properties.address}},  {{properties.city}}</h2>
      <h3 class='my-sm-4'>Â£{{properties.price}}/month</h3>
      <div class='d-flex justify-content-start'>
        <h5 class='px-3'>
          <i class='fa-solid fa-bed'><span class='px-3'>{{properties.bathroom_number}}</span></i>bed
        </h5>
        <h5 class='px-3'>
          <i class='fa-solid fa-toilet'><span class='px-3'>{{properties.rooms_number}}</span></i>Bath
        </h5>
        <h5 class='px-3'>
          <i class='fa-solid fa-couch'><span class='px-3'>{{properties.reception_number}}</span></i>reception
        </h5>
      </div>
    </div>
    <div
      class='d-md-flex d-none flex-md-column align-items-center sticky-md-bottom'
    >
    {{#if logged}}
      {{#if isPropertyOwner}}

        <button type='button' class='btn btn-warning col-sm-8 col-md-6 mb-3' data-bs-toggle="modal" data-bs-target="#updateHavenInfo">
        Update Haven Details
        </button>


    </form>
            {{else}}
   <button type='button' class='btn btn-warning col-sm-8 col-md-6 mb-3'>
        {{!-- {{properties.owner.email}} --}}
        Sign up or Login to explore more!
      </button>
    {{/if}}

    </div>
  </div>
</div>
<!-- Call to action buttons -->
<div class='d-md-none sticky-sm-top text-center py-sm-2 bg-white'>
  <button type='button' class='btn btn-warning col-11 mb-2'>Email</button>
  <button type='button' class='btn btn-warning col-11'>Call</button>
</div>
<div class='d-md-none sticky-sm-top text-center py-sm-2 bg-white'>
  <button type='button' class='btn btn-warning col-11 mb-2'>Email</button>
  <button type='button' class='btn btn-warning col-11'>Call</button>
</div>

            <!-- Update Property Info Modal -->
            <div class="modal fade" id="updateHavenInfo" tabindex="-1">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Update Haven Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form>
                      <label for="address">Address:</label><br />
                      <input type="text" id="updateAddress" name="address" value="{{properties.address}}" /><br />
                      <label for="city">City:</label><br />
                      <input type="text" id="updateCity" name="city" value="{{properties.city}}" /><br />
                      <label for="price">Price:</label><br />
                      <input type="text" id="updatePrice" name="price" value="{{properties.price}}" /><br />
                      <label for="bedrooms">Bedrooms:</label><br />
                      <input type="text" id="updateBedrooms" name="bedrooms" value="{{properties.rooms_number}}" /><br />
                      <label for="bathrooms">Bathrooms:</label><br />
                      <input type="text" id="updateBathrooms" name="bathrooms" value="{{properties.bathroom_number}}" /><br />
                      <label for="reception">Reception rooms:</label><br />
                      <input type="text" id="updateReception" name="reception" value="{{properties.reception_number}}" /><br />
                      <label for="description">Description:</label><br />
                      <textarea id="updateDescription" name="description" rows="4" cols="50">{{properties.description}}</textarea><br /><br />
                      <label for="available">Available?</label><br />
                      <input type="checkbox" id="updateAvailable" name="available" value="{{properties.available}}" /><br />
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                      Close
                    </button>
                    <button type="button" class="btn btn-primary" id="updatePropertyDetails">
                      Save changes
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- End of Update Property Info Modal -->

<!-- Description -->
<div class='container-md text-center block-section'>
  <div class='d-flex flex-column align-items-center'>
    <header class='col-10 text-start'>
      <h3>Description</h3>
    </header>
    <div
      class='col-10 text-start shadow-sm px-4 pt-3 pb-3 rounded-2'
      id='property-description'
    >
    <p>
      {{properties.description}}
    </p>
    </div>
    <h5 id='more' class='expand-description py-1'>Read more</h5>
    <h5 id='less' class='decrease-description py-1'>Read less</h5>
  </div>
</div>
<!-- Maps -->
<div class='container-md block-section'>
  <header class='text-lg-start col-10 mx-auto'>
    <h3>Location</h3>
  </header>
  <div class='block-section mx-auto col-10' id='map'></div>
</div>
<!-- Footer -->
{{>footer}}

 <script
      async
      defer
      src='https://maps.googleapis.com/maps/api/js?key=AIzaSyARmkjSXxUaA1zlQOgV9mNy41KlJbRlqh8&callback=initMap&libraries=places'
    >
    </script>